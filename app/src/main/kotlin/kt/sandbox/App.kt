/*
 * This Kotlin source file was generated by the Gradle 'init' task.
 */
package kt.sandbox

import io.netty.buffer.ByteBuf
import io.netty.buffer.ByteBufUtil
import io.netty.buffer.Unpooled

class App {
    val greeting: String
        get() {
            return "Hello World!"
        }
}

fun Int.isOdd() = this % 2 != 0

fun buildBuffer(opcode: Int,
                extras: (ByteBuf) -> Unit = { },
                content: (ByteBuf) -> Unit = { }): ByteBuf {
    val buf = Unpooled.buffer()
    buf.writeInt(opcode)
    extras.invoke(buf)
    content.invoke(buf)
    return buf
}


fun main() {
    val m = Money(1, "JPY")
    m.amount++

    println(m.copy(currency = "USD"))

    val a = 2;
    val b = 3;
    println(a and b)

    println(2.isOdd())
    println(3.isOdd())

    val buf = buildBuffer(
            opcode = 42,
            extras = { it.writeByte(7) },
            content = { it.writeBytes("hello".toByteArray())}

    )

    println(ByteBufUtil.prettyHexDump(buf))
}
